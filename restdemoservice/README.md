For converting an application or a website to use HTTPS instead of HTTP i.e. to make an application secured, we need a digital certificate corresponding to the website. This certificate can be procured from CA trusted by most of the browsers. If the site is going to be accessed through another server, then the Root and intermediary certificate of the CA can be installed in the Trusted Keystore of that server. So during authentication the client can verify the certificate sent by the server using the Root CA from its trusted keystore or truststore.

KeyStore File : The keystore file is a key database file that contains both public keys and private keys.
Truststore Files : A truststore file is a key database file that contains the public keys for target servers.

In this example we are going to use a self signed certificate generated by using the Keytool API provided by Java.

	a.	Creating a Self Signed Certificate
       Run this command form the bin directory of your java installation folder	
			keytool -genkey -alias <aliasname> -keyalg RSA -keystore <KeyStoreName with path>.keystore -validity <days> 
		
	b.	Parameters Required
		Give the fully domain name of the server. If you are locally hosting the application on a machine, give machine name. When prompted for password, give it as “changeit” because this is the default password used by Tomcat. If you want, you can give the password of your choice (As mentioned in below example).
		Rest of the parameters you can choose to leave expect the one which are required as given below (attached txt file at the end of file).
		/Users/muhammed_alam/ssl
		/Users/muhammed_alam/ssl>keytool -genkey -alias CertsTest -keyalg RSA -keystore /Users/muhammed_alam/ssl/Test_Cert.keystore
		Enter keystore password:  Test_Cert
		What is your first and last name?
		[Unknown]:  Muhammed Alam
		What is the name of your organizational unit?
		[Unknown]:  Demo
		What is the name of your organization?
		[Unknown]:  EX
		What is the name of your City or Locality?
		[Unknown]:  BAN
		What is the name of your State or Province?
		[Unknown]:  KAR
		What is the two-letter country code for this unit?
		[Unknown]:  IN
		Is CN=Muhammed Alam, OU=Demo, O=EX, L=BAN, ST=KAR, C=IN correct?
		[no]:  yes
		Enter key password for <CertsTest>
        (RETURN if same as keystore password):
        
        /Users/muhammed_alam/ssl/>
        Now you can see a Keystore file in the folder and the name which you have specified in the Keytool command i.e. you can see Test-cert.keystore in folder /Users/muhammed_alam/ssl/

	c.	Opening SSL Port In The Tomcat Server
		Open the server.xml file of your Tomcat server and then find search for the string “Define a non-SSL Coyote HTTP/1.1 Connector on port”. In different versions of Tomcat, you may find another tag (few lines) below the one you have just searched.
<!-- Define a SSL Coyote HTTP/1.1 Connector on port 8443 -->
<!--
   			 <Connector port="8443" 
               maxThreads="150" minSpareThreads="25" maxSpareThreads="75"
               enableLookups="false" disableUploadTimeout="true"
               acceptCount="100" debug="0" scheme="https" secure="true"
               clientAuth="false" sslProtocol="TLS" />
-->

		Uncomment this by removing <!-- and -->. In some other version of Tomcat you mayfind the following lines which you will have to uncomment or add if not present to the server.xml file.
		<Connector SSLEnabled="true" clientAuth="false" keystoreFile="/Users/muhammed_alam/ssl/Test_Cert.keystore" 
    			maxThreads="150" port="8443" protocol="org.apache.coyote.http11.Http11Protocol" 
    			scheme="https" secure="true" sslProtocol="TLS"
    		/>

		Adding the attributes to server.xml
		Add a keystoreFile attribute in the above mentioned tag because Tomcat expects the Keystore file to be named as .Keystore and stored in user home directory under which Tomcat is running. Here we have mentioned a different Keystore Name and path while creating the test certificate using keytool.

		If you have used a password other than “changeit (default password for Tomcat)” while creating/generating the self signed certificate then one more attribute called keystorePass is to be added. The value which you assign to this attribute must be same as the value of “keyStore Password” entered during creation of self signed certificate.In above example, we have used our own password, which is not expected by Tomcat (Tomcat will expect “changeit” as password), so we need this attribute in above tag of Server.xml. Please refer Apache website to get the information on the other attributes.Now the above mentioned tag will look like as follows, after we have modified it for KeyStoreFile and KeyStorePass attributes. Please note, here we are taking the password “Test_Cert” not “Changeit”. 

		<Connector SSLEnabled="true" clientAuth="false" keystoreFile="/Users/muhammed_alam/ssl/Test_Cert.keystore" 
    			maxThreads="150" port="8443" protocol="org.apache.coyote.http11.Http11Protocol" 
    			scheme="https" secure="true" sslProtocol="TLS"
    			keystorePass="Test_Cert"/>
    		/>
       		
       		
 This completes the SSL configuration in server. No Use the HttpLive.Java class to make  a call with secured data.      		
